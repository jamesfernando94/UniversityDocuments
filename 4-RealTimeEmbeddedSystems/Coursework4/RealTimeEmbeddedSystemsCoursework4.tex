\documentclass[a4paper,12pt]{scrartcl}
\input{documentSetup.tex}
\input{codeListingStyles.tex}

\graphicspath{ {images/} }
\usepackage[
	backend=biber,
	style=ieee,
	]{biblatex}

\addbibresource{references.bib}

\title{829H1 Real-Time Embedded Systems Exercise 4}
\author{Candidate No: 105936}
\date{\today}

\begin{document}
	
	\begin{titlepage}
		\maketitle
	\end{titlepage}
	
	\tableofcontents
	\newpage
	
	\section{Introduction}
	{
		This report focuses on using serial communications on the board and shows the work completed during the laboratory sessions and what was learnt. Code listings for some of the created programs can be found in \cref{Appendix:start}.
	}
	
	\section{Experiments}
	{
		\subsection{Serial Communications}
		{
			For this experiment I created a SPI master object which allowed me to output data using serial methods on three pins, these pins were PTD2 which was the MOSI, PTD3 the MISO and PTD1 which was the clock. 
			\begin{figure}[h]
				\centering
				\includegraphics[width=0.5\textwidth]{Ex1/Task1-Edited}
				\caption{An Image showing the output on the oscilloscope when running code from \cref{appendix:ex1-1}}
				\label{img:Ex1-Task1}
			\end{figure}
			\cref{img:Ex1-Task1} demonstrates the output of sending a word out using serial communication. Here the blue line represents the clock and red the signals.
			
			\subsubsection{Using Different SPI Modes}
			{
				This changes the clock signal as shown in \cref{img:ClockMode0}, \cref{img:ClockMode1}, \cref{img:ClockMode2} and \cref{img:ClockMode3}.
				\begin{figure}[h]
					\centering
					\includegraphics[width=\textwidth]{Ex1/mode0}
					\caption{This figure shows clock mode 0 please note that the red is the clock and blue is the word being transmitted}
					\label{img:ClockMode0}
				\end{figure}
				\begin{figure}[h]
					\centering
					\includegraphics[width=\textwidth]{Ex1/mode1}
					\caption{This shows clock mode 1}
					\label{img:ClockMode1}
				\end{figure}
				\begin{figure}[h]
					\centering
					\includegraphics[width=\textwidth]{Ex1/mode2}
					\caption{This shows clock mode 2}
					\label{img:ClockMode2}
				\end{figure}
				\begin{figure}[h]
					\centering
					\includegraphics[width=\textwidth]{Ex1/mode3}
					\caption{This shows clock mode 3}
					\label{img:ClockMode3}
				\end{figure}
			}
		
			\subsubsection{Using a Different Number of bits}
			{
				The code for 12 bit operation can be found in \cref{appendix:ex1-2}. I am now sending the binary number 100010100001 this is equivalent to 0x8A1 or 2209 in decimal.
			}
		}
		\subsection{Linking Two Boards together}
		{
			
		}
	}

	\section{Conclusion}
	{
		In conclusion, this was a useful quick introduction into how to develop using interrupts and timers also learning how to use tera term to view the console output of the board.
	}
	
	\newpage
	\input{Appendix.tex}
	\printbibliography[heading=bibintoc,title=References]
\end{document}
